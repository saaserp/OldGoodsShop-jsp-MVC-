(function(e,t,n){function o(e){var t=e.match(s);return(t?t[0]:".")+"/"}function u(e,t){var n;return e.indexOf("./")===0?(e=e.substr(2),t=o(t),n=t+e):e.indexOf("../")===0&&(e=e.substr(3),t=o(o(t).replace(/\/$/,"")),n=t+e),e.charAt(0)==="."?u(e,t):n||e}function a(e){return e.charAt(0)!=="/"&&(e="/"+e),e}function p(e,t,n){function s(e){var t=r.resolve(e,i.id),n=h[t];return n?n.exports||n._compile():console.log("_ent shouts: Module missing!",n),n.exports}var i=this;this.id=e,this.dependencies=t,this.factory=n,this.require=s,s.async=s.load=function(e,t){i._use(e,t)}}function v(e,t){r.mix(t,r,!0,"mix iF iA iS iPO fetch".split(" ")),t.substitute=function(e,r,i,s){return!t.iS(e)||!t.iPO(r)?e:e.replace(i||/\\?\{([^{}]+)\}/g,function(e,t){return e.charAt(0)==="\\"?e.slice(1):r[t]!==n?r[t]:s?e:""})}}if(t&&/cyj.me\/ent/.test(t.about))return;t=e._ent={about:"http://cyj.me/ent",util:{},config:{timeout:3e4,charset:"utf-8"},cache:{}};var r=t.util,i=t.config;(function(){function c(e,t){e.nodeName==="SCRIPT"?h(e,t):p(e,t)}function h(e,t){e.onload=e.onerror=e.onreadystatechange=function(){a.test(e.readyState)&&(e.onload=e.onerror=e.onreadystatechange=null,e=n,t())}}function p(e,t){g||y?(r.log("Start poll to fetch css"),setTimeout(function(){d(e,t)},1)):e.onload=e.onerror=function(){e.onload=e.onerror=null,e=n,t()}}function d(e,t){var n;if(g)e.sheet&&(n=!0);else if(e.sheet)try{e.sheet.cssRules&&(n=!0)}catch(r){r.name==="NS_ERROR_DOM_SECURITY_ERR"&&(n=!0)}setTimeout(function(){n?t():d(e,t)},1)}function v(){}var r=t.util,i=e.document;if(!i)return;var s=i.head||i.getElementsByTagName("head")[0]||i.documentElement,o=s.getElementsByTagName("base")[0],u=/\.css(?:\?|$)/i,a=/loaded|complete|undefined/,f,l;r.fetch=function(e,t,n){var i=u.test(e),a=document.createElement(i?"link":"script");if(n){var l=r.iF(n)?n(e):n;l&&(a.charset=l)}c(a,t||v),i?(a.rel="stylesheet",a.href=e):(a.async="async",a.src=e),f=a,o?s.insertBefore(a,o):s.appendChild(a),f=null},r.getCurrentScript=function(){if(f)return f;if(l&&l.readyState==="interactive")return l;var e=s.getElementsByTagName("script");for(var t=0;t<e.length;t++){var n=e[t];if(n.readyState==="interactive")return l=n,n}},r.getScriptAbsoluteSrc=function(e){return e.hasAttribute?e.src:e.getAttribute("src",4)},r.importStyle=function(e,t){if(t&&i.getElementById(t))return;var n=i.createElement("style");t&&(n.id=t),s.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(i.createTextNode(e))},r.scriptOnload=h;var m=navigator.userAgent,g=Number(m.replace(/.*AppleWebKit\/(\d+)\..*/,"$1"))<536,y=m.indexOf("Firefox")>0&&!("onload"in document.createElement("link"))})();var s=/.*(?=\/.*$)/,f=e.location;if(f){var l=f.protocol+"//"+f.host+a(f.pathname);r.pageUri=l}r.resolve=u;var c=r.mix=function(e,t,r,i){if(!e||!t)return e;r===n&&(r=!0);var s,o,u;if(i&&(u=i.length))for(s=0;s<u;s++)o=i[s],o in t&&(r||!(o in e))&&(e[o]=t[o]);else for(o in t)if(r||!(o in e))e[o]=t[o];return e};c(r,function(){var t=Object.prototype.toString,n={iF:function(e){return t.call(e)==="[object Function]"},iA:function(e){return t.call(e)==="[object Array]"},iS:function(e){return t.call(e)==="[object String]"},iPO:function(e){return e&&t.call(e)==="[object Object]"&&!e.nodeType&&!e.setInterval}};return e.console||(e.console={}),console.log||(console.log=function(){}),n}());var h=t.cache={};r.mix(p.prototype,{_use:function(e,t){if(!r.iS(e)||e.indexOf("http://")!==0&&e.indexOf("//")!==0){var n=this;r.iS(e)&&(e=[e]);var s=[],o;for(o=0;o<e.length;o++)s[o]=n.require(e[o],n.id);r.iF(t)&&t.apply(null,s)}else r.fetch(e,t,i.charset)},_compile:function(){var e=this,t=e.factory,i;e.exports={},delete e.factory,r.iF(t)?(i=t(e.require,e.exports,e),i!==n&&(e.exports=i)):t!==n&&(e.exports=t)}});var d=new p(r.pageUri);t.define=function(e,t,n){if(r.iF(t)||r.iPO(t))n=t,t=[];var i=new p(e,t,n);h[e]=i},t.use=function(e,t){d._use(e,t)},t.define("ent",[],v),typeof define=="function"&&define("ent",[],v)})(this,this._ent);
_ent.define("cc/util/grade",[],function(e,t){var n="b_red_1.gif",r=1;t.getGrade=function(e,t){e<=10?(n="b_red_1.gif",r=1):e<=40?(n="b_red_2.gif",r=2):e<=90?(n="b_red_3.gif",r=3):e<=150?(n="b_red_4.gif",r=4):e<=250?(n="b_red_5.gif",r=5):e<=500?(n="s_blue_1.gif",r=6):e<=1e3?(n="s_blue_2.gif",r=7):e<=2e3?(n="s_blue_3.gif",r=8):e<=5e3?(n="s_blue_4.gif",r=9):e<=1e4?(n="s_blue_5.gif",r=10):e<=2e4?(n="s_cap_1.gif",r=11):e<=5e4?(n="s_cap_2.gif",r=12):e<=1e5?(n="s_cap_3.gif",r=13):e<=2e5?(n="s_cap_4.gif",r=14):e<=5e5?(n="s_cap_5.gif",r=15):e<=1e6?(n="s_crown_1.gif",r=16):e<=2e6?(n="s_crown_2.gif",r=17):e<=5e6?(n="s_crown_3.gif",r=18):e<=1e7?(n="s_crown_4.gif",r=19):e>1e7&&(n="s_crown_5.gif",r=20);var i="http://pics.taobaocdn.com/newrank/"+n;return t?[i,r]:i}});
_ent.define("cc/util/tps",[],function(e,t){function s(e,n){return e.replace(/(?:_(?:m|b|s|sum|summ2?|search|sharpen|\d+x\d+(?:xz)?)\.(?:jpe?g|gif|png))?(?:_.webp)?$/,"")+"_"+t.alias(n)+".jpg"+(r?"_.webp":"")}var n=new Image;n.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA";var r=n.height===1,i=[[16,16],[24,24],[30,30],[36,36],[40,40],[60,60],[63,63,"60x30"],[70,70],[80,80,"sum"],[65,65,"81x65"],[84,84,"80x40"],[90,90,"110x90"],[100,100],[110,110],[120,120,"m"],[130,130],[145,145],[160,160],[170,170],[180,180],[190,190],[200,200],[210,210],[220,220],[230,230],[240,240],[250,250],[270,270],[290,290],[300,300],[310,310],[315,315],[320,320],[350,350],[360,360],[620,620,"620x10000"],[670,670]];t.alias=function(e){var t,n,r=i,s=r.length,o=parseInt(e,10);for(t=0;t<s;t++){n=r[t];if(n[0]==o)break}return t===s?"":n[2]||o+"x"+o},t.addSize=function(e,t){if(!e)return e;if(!e.push)return s(e,t);for(var n=0;l=e.length,n<l;n++)e[n].src=s(e[n].src,t)}});
_ent.define("cc/datasource/p4p/rosetta",["cc/util/tps","cc/util/grade"],function(require,exports){function str2obj(e){var t=e.split(";")||"",n,r,i={};if(!t)return i;for(n=0;n<t.length;n++)r=t[n].split(":"),i[r[0]]=r[1]||"";return i}function ds_format_item(o,config){var k,v,r={},size,width,height,img,imgsize=config.imgsize,decimal=config.decimal,adgextension=str2obj(o.ADGEXTENSION||""),sellerextension=str2obj(o.SELLEREXTENSION||""),tps_alias=_tps.alias(imgsize);typeof decimal=="undefined"&&(decimal=2);for(k in DS_MAP){v=DS_MAP[k];if(v=="ds_img"&&o[k])img=r[v]={},imgsize?img.src=_tps.addSize(o[k],imgsize):img.src=o[k],o.DISPLAY_RESOLUTION&&(size=o.DISPLAY_RESOLUTION.split("*"),width=parseInt(size[0],10),height=parseInt(size[1],10),img.width=width||0,img.height=height||0);else if(v=="ds_price")r[v]=!!o[k]&&NUMBER_PTN.test(o[k])?(o[k]/100).toFixed(decimal):o[k];else if(v=="ds_free")r[v]=+adgextension[k]||"";else if(v=="ds_rank"){var grade=_grade.getGrade(o[k],!0);r[v]=grade[0],r.ds_grade=grade[1]}else if(v=="ds_mall")r[v]=o[k],r.ds_istmall=o[k]==="1";else if(v=="ds_isglobal")r[v]=o[k]==="1";else if(v=="ds_isgold")r[v]=o[k]==="1";else if(v=="ds_sevenday")r[v]=+sellerextension[k]||"";else if(v=="ds_matchScore")r[v]=sellerextension[k]||"";else if(v==="ds_creatives"){var JSON=window.JSON,tmp;o[k]&&(o[k].niutiedata||o[k].NIUTIEDATA)&&(tmp=o[k].niutiedata||o[k].NIUTIEDATA||"{}",JSON&&JSON.parse?r.ds_niutiedata=JSON.parse(window.unescape(tmp).replace(/&quot;/g,'"')):(eval("var niutieData = "+window.unescape(tmp).replace(/&quot;/g,'"')),r.ds_niutiedata=niutieData)),!img&&o[k].IMGURL&&(r.ds_img={src:o[k].IMGURL.replace(/[^_]+\.(jpg|gif)$/,"")+tps_alias+".jpg"},r.ds_title=o[k].TITLE),r[v]={}}else if(v==="AUCTIONTAG"){if(o[k]){var tags=o[k].split(",");r.isTaobao12=contains(tags,"2882")}}else v==="COMSMARTSHOW"?parseSmartData(o[k],r):r[v]=o[k]}return r}function ds_format(e,t){var n,r=[];if(!ent.iA(e))return e;for(n=0;n<e.length;n++)r.push(ds_format_item(e[n],t));return r}function contains(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return!0;return!1}function parseSmartData(e,t){if(!window.KISSY||!e)return;KISSY.each(KISSY.parseJson(e),function(e,n){e&&typeof e=="string"&&(t[n]=KISSY.map(e.slice(0,-1).split(";"),function(e){if(e){if(n==="shopath")return{className:e,value:shopathMap[e]};var t=e.split(":");return{className:t[0],value:t[1]}}}))})}var ent=require("ent"),_tps=require("cc/util/tps"),_grade=require("cc/util/grade"),DS_MAP={TBGOODSLINK:"ds_img",EURL:"ds_clickurl",TITLE:"ds_title",GOODSPRICE:"ds_price",SALEPRICE:"ds_promo",GOLDENSELLER:"ds_isgold",SELL:"ds_sell",isPostFree:"ds_free",LOCATION:"ds_location",WANGWANGID:"ds_wangwang",sevendaysRefundment:"ds_sevenday",ISMALL:"ds_mall",RESOURCEID:"ds_itemid",SHOPID:"ds_shopid",SELLERID:"ds_sellerid",ISGLOBAL:"ds_isglobal",REDKEYS:"ds_redkeys",REDKEY:"ds_redkeys",matchScore:"ds_matchScore",STATICSCORE:"ds_score",NIUTIEDATA:"ds_niutiedata",SWORD:"ds_sword",SWURL:"ds_swurl",CREATIVEELEMENTS:"ds_creatives",GRADE:"ds_rank",COMMENT:"ds_comment",DESC:"ds_desc",AUCTIONTAG:"AUCTIONTAG",COMSMARTSHOW:"COMSMARTSHOW"},NUMBER_PTN=/^\d+$/,shopathMap={shopBuy:"\u8d2d\u4e70\u8fc7\u7684\u5e97",shopFav:"\u6536\u85cf\u8fc7\u7684\u5e97",shopCart:"\u52a0\u8d2d\u7269\u8f66\u7684\u5e97",shopBrow:"\u6d4f\u89c8\u8fc7\u7684\u5e97"};exports.format=ds_format});
_ent.define("cc/util/params",[],function(e,t){var n=e("ent");t.replace=function(e,t,r){if(!t)return e;var i="=",s="?",o="&",u="#",a=!!r&&!!r.force,f=e.split(s),l=f[0],c=(f[1]||"").split(u),h=c[1]||"",p,d,v,m,g;t=n.mix({},t),c=(c[0]||"").split(o);for(v=0;v<c.length;v++){p=c[v].split(i);for(m in t){g=t[m]||"",d=p[0]===m;if(d){g=n.iF(g)?g(p[1]):g;if(!!g||a)p[1]=g;c[v]=p.join(i);break}}d&&delete t[m]}for(m in t)g=t[m]||"",g=n.iF(g)?g(""):g,!g||(p=m+i+g,c.push(p));return e=l+s+c.join(o),h&&(e+=u+h),e},t.get=function(e,t){var r=e.split("#")[0].split("?")[1]||"",i=r.split("&"),s,o,u,a,f=n.iS(t),l=f?"":{};if(!r)return l;for(u=0;u<i.length;u++){s=i[u],o=s.split("=");if(!s)continue;if(!t)l[o[0]]=o[1]||"";else if(f&&o[0]===t)l=o[1];else for(a=0;a<t.length;a++)o[0]===t[a]&&(l[o[0]]=o[1]||"")}return l}});
_ent.define("cc/datasource/p4p_m",["cc/util/params","./p4p/rosetta"],function(e,t){var n=e("cc/util/params"),r=e("./p4p/rosetta"),i=e("ent");t.getData=function(t,s,o){var u="tbcc_p4p_"+(t.uid||"").replace(/[^a-z0-9]/gi,"_")+ +(new Date),a=t.datasource[s],f=i.substitute(a.ds_host,{qp_count:a.qp_count,qp_callback:u,qp_catid:a.qp_catid,ds_pid:a.ds_pid}),l=t.uid&&document.getElementById("tbcc-c-"+t.uid),c=l&&l.getAttribute("data-args"),h=n.get(c||"");(/strip.taobaocdn.com/.test(location.href)||!l||!l.getAttribute("data-args"))&&i.mix(h,n.get(location.href)),i.iPO(h)&&(h.refpid_independent=="1"?h.refpid_independent=undefined:h.refpid=h.pid,delete h.p4p,delete h.name,a.ds_pid&&delete h.pid,f=n.replace(f,h)),window[u]=function(e){var n=t.datasource[s],a={imgsize:n.qp_imgsize,decimal:n.qp_decimal};t.data=t.data||{},t.data[s]=t.data[s]||{},t.data[s].items=i.iA(e.data[0].adList)?r.format(e.data[0].adList,a):[],t.feedbackUrl=e.data[0].feedbackUrl;try{delete window[u]}catch(f){window[u]=null}o()},e.async(f,function(){})}});
_ent.define("cc/util/select",[],function(){return function(e,t,n){var r=[];for(var i in e){var s=e[i];s&&r.push(n?n.call(s,s[t]):s[t])}return r}});
_ent.define("cc/util/item_pv",[],function(e,t,n){var r={wrapIn:function(e,t){function i(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n])}var n=this,r=e;return e=function(e,s,o){r(e,s,function(){o();if(e.datasource[s].ds_sn=="p4p_m"){var r=[];function u(e){var t=[];i(e,function(e){t.push(e.ds_itemid)}),r.push(t)}e.data[s].groups?i(e.data[s].groups,function(e){u(e.items)}):e.data[s].items&&u(e.data[s].items),n.init(document.getElementById(e.uid+t),r,e.feedbackUrl),n.stop(),n.start()}})},e},init:function(e,t,n){var r=this;r.container=e,r.items=t,r.feedbackUrl=n,r.pointer=0},changePointer:function(e){var t=this;t.pointer=+e,t.working&&t.check()},start:function(){var e=this;e.working||(e.getViewHeight(),e.check(),e.addEvent(document,"resize",e.getViewHeight),e.addEvent(document,"resize",e.check),e.addEvent(document,"scroll",e.check),e.working=!0)},stop:function(){var e=this;e.removeEvent(document,"resize",e.getViewHeight),e.removeEvent(document,"resize",e.check),e.removeEvent(document,"scroll",e.check),e.working=!1},getViewHeight:function(){r.viewHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0)},check:function(){var t=r,n=t.container.getBoundingClientRect();n.top<t.viewHeight&&n.bottom>0&&t.items[t.pointer]&&(e.async(t.feedbackUrl.replace(/\{itemids\}/,t.items[t.pointer].join(","))),t.items[t.pointer]=!1)},addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},removeEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}};n.exports=r});
_ent.define("cc/util/et",[],function(e,t,n){function s(){}function o(e,t){return!!e&&e.nodeType==t}var r=e("ent"),i=1;r.mix(s,{is:o,addClass:function(e,t){if(!o(e,i)||!t)return;if(!e.className){e.className=t;return}s.hasClass(e,t)||(e.className+=" "+t)},removeClass:function(e,t){if(!o(e,i)||!e.className||!t)return;var n=e.className.split(" "),r;for(r=0;r<n.length;r++)if(t===n[r])break;n.splice(r,1),e.className=n.join(" ")},hasClass:function(e,t){if(!o(e,i)||!e.className||!t)return!1;var n=e.className.split(" "),r;for(r=0;r<n.length;r++)if(n[r]===t)return!0;return!1},siblings:function(e,t){if(!o(e,i))return;var n=e.nextSibling;while(n)o(n,i)&&t(n),n=n.nextSibling;n=e.previousSibling;while(n)o(n,i)&&t(n),n=n.previousSibling},children:function(e){if(!o(e,i))return;var t=e.childNodes,n,r,s=t.length,u=[];for(n=0;n<s;n++)r=t[n],o(r,i)&&u.push(r);return u},index:function(e){if(!o(e,i)||!e.parentNode)return-1;var t=0,n=e.parentNode.firstChild;while(n!==e)o(n,i)&&t++,n=n.nextSibling;return t},css:function(e,t){if(!o(e,i)||!r.iPO(t))return;var n;for(n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},first:function(e){var t,n=0;do{t=e[n++];if(o(t,i))return t}while(n<e.length)},last:function(e){var t,n=e.length-1;do{t=e[n--];if(o(t,i))return t}while(n>=0)},find:function(e,t){return e.getElementsByTagName(t)},text:function(e,t){if(typeof t=="undefined")return e.innerText||e.textContent;typeof e.innerText=="undefined"?e.innerText=t:e.textContent=t},html:function(e,t){if(typeof t=="undefined")return e.innerHTML;e.innerHTML=t},next:function(e,t){while(e=e.nextSibling)if(o(e,i))if(!t||s.match(e,t))break;return e},match:function(e,t){return e.tagName.toLowerCase()===t},version:"0.1"}),n.exports=s});
_ent.define("cc/effect/switchable",["cc/util/et"],function(e,t,n){function o(e,t){if(!e)return;t=i.mix(t||{},s,!1),/[?&]adx_type=1/.test(location.href)&&(t.stopsAt=3e4),this.config=t,this.win=t.win||window,this.doc=this.win.document,this.id=e,this.dawn=+(new Date),this.box()&&(this.bind(),this.show(0))}var r=e("cc/util/et"),i=e("ent"),s={eventType:"mouseover",currentClass:"current",triggerClass:"j-trigger",auto:!0,interval:5e3,triggerCount:1,frameCount:1,stopsAt:-1};i.mix(o.prototype,{box:function(){return document.getElementById(this.id)},triggers:function(){var e=[],t=this.config,n=this.doc;for(var i=0;i<t.triggerCount;i++){var s=this.id+"-triggers"+(i===0?"":i+1),o=n.getElementById(s),u=r.children(o);for(var a=0;a<u.length;a++){var f=u[a];f.setAttribute("tt-index",e.length),e.push(f)}}return e},frames:function(){var e=[],t=this.doc,n=this.config;for(var i=0;i<n.frameCount;i++){var s=this.id+"-frames"+(i===0?"":i+1),o=t.getElementById(s);e[i]=r.children(o)}return e},bind:function(){var e=this.box(),t=this.config,n=this;e["on"+t.eventType]=function(e){n.dispatch(e)},t.auto&&(e.onmouseout=function(e){var t=n.box();t.getAttribute("tt-switchable-debug")||n.start(e)})},dispatch:function(e){e=e||this.win.event;var t=e.target||e.srcElement,n,i=this.config.triggerClass;r.hasClass(t,i)?(n=parseInt(t.getAttribute("tt-index"),10),this.show(n),this.stop()):r.hasClass(t.parentNode,i)?(n=parseInt(t.parentNode.getAttribute("tt-index"),10),this.show(n),this.stop()):r.hasClass(t.parentNode.parentNode,i)?(n=parseInt(t.parentNode.parentNode.getAttribute("tt-index"),10),this.show(n),this.stop()):r.hasClass(t,"j-frame")&&this.stop()},show:function(e){function a(e){r.removeClass(e,t)}var t=this.config.currentClass,n=this.triggers(),i=this.frames(),s=n[e];for(var o=0;o<i.length;o++){var u=i[o][e];r.addClass(u,t),r.siblings(u,a),u&&!u.getAttribute("tt-image-loaded")&&this.loadImg(u)}for(o=0;o<n.length;o++)r.removeClass(n[o],t);r.addClass(s,t),this.config.callback&&this.config.callback(e)},loadImg:function(e){var t=e.getElementsByTagName("img");for(var n=0,r=t.length;n<r;n++){var i=t[n];i.src=i.getAttribute("data-src")||i.getAttribute("tt-src")}e.setAttribute("tt-image-loaded",!0)},stop:function(){this.timer&&this.clearTimer()},clearTimer:function(){clearInterval(this.timer),this.timer=null,this.box().removeAttribute("tt-switchable-interval")},start:function(){this.timer&&this.clearTimer();if(!this.box())return;var e=this;this.timer=setInterval(function(){var t=e.config.stopsAt,n=+(new Date)-e.dawn;t>=0&&n>=t?e.stop():e.next()},this.config.interval),this.box().setAttribute("tt-switchable-interval",this.timer)},next:function(){var e=this.cur(),t=this.triggers();e>=0&&(e=e+1<t.length?e+1:0,this.show(e))},cur:function(){var e=this.config.currentClass,t=!1,n=this.triggers();for(var i=0;i<n.length;i++){var s=n[i];if(r.hasClass(s,e)||r.hasClass(s.parentNode,e)){t=!0;break}}return t?i:-1},prev:function(){var e=this.cur(),t=this.triggers();e>=0&&(e=e-1>=0?e-1:t.length-1,this.show(e))}}),n.exports=o});
_ent.define("cc/util/event",[],function(e,t,n){var r=e("ent"),i={};r.mix(i,{addHandler:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},getButton:function(e){if(document.implementation.hasFeature("MouseEvents","2.0"))return e.button;switch(e.button){case 0:case 1:case 3:case 5:case 7:return 0;case 2:case 6:return 2;case 4:return 1}},getCharCode:function(e){return typeof e.charCode=="number"?e.charCode:e.keyCode},getClipboardText:function(e){var t=e.clipboardData||window.clipboardData;return t.getData("text")},getEvent:function(e){return e?e:window.event},getRelatedTarget:function(e){return e.relatedTarget?e.relatedTarget:e.toElement?e.toElement:e.fromElement?e.fromElement:null},getTarget:function(e){return e.target||e.srcElement},getWheelDelta:function(e){return e.wheelDelta?client.engine.opera&&client.engine.opera<9.5?-e.wheelDelta:e.wheelDelta:-e.detail*40},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},removeHandler:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},setClipboardText:function(e,t){e.clipboardData?e.clipboardData.setData("text/plain",t):window.clipboardData&&window.clipboardData.setData("text",t)},stopPropagation:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},mouseEnterLeave:function(e,t,n){var r=t==="mouseenter",s=r?"fromElement":"toElement",o=function(t){t=t||window.event;var r=t.target||t.srcElement,o=t.relatedTarget||t[s];(e===r||i._contains(e,r))&&!i._contains(e,o)&&n(t)};return t=r?"mouseover":"mouseout",i.addHandler(e,t,o),o},_contains:function(e,t){return e.contains?e.contains(t):!!(e.compareDocumentPosition(t)&16)}}),n.exports=i});
_ent.define("cc/templets/meta",[],function(e,t){function n(e,t){t=t||{};var r=e.css.length,i="",s="",o="",u=0;for(var a=0;a<r;a++){var f=e.css.charAt(a);switch(f){case"{":u++,s+=f;break;case"}":u--,s+=f,u===0&&(t.asIs?i=i.replace(/\./g,"#tbcc-c-"+e.uid+" ."):i=i.replace(/\./g,"."+e.uid+"-"),/^@media/.test(i)&&(s="{"+n({css:s.replace(/^\{|\}$/g,""),uid:e.uid})+"}"),o+=i+s+"\n",i=s="");break;default:u>0?s+=f:i+=f}}return o.replace(RegExp("\\\\\\."+e.uid+"-","g"),".")}t.attachStyle=function(e,t){var r=e.uid,i="j-"+r+"-css",s=e.doc||document,o=s.getElementsByTagName("body")[0],u=s.createElement("style"),a=s.getElementById(i),f=n(e,t),l=s.createElement("div");if(a){if(e.info.kissy)return;a.parentNode.removeChild(a)}u.type="text/css",u.id=i,l.appendChild(u),u.styleSheet?u.styleSheet.cssText=f:u.appendChild(s.createTextNode(f)),o.appendChild(l)}});
var Mustache=function(){var e=function(){};return e.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0},context:{},render:function(e,t,n,r){r||(this.context=t,this.buffer=[]);if(!this.includes("",e)){if(r)return e;this.send(e);return}e=this.render_pragmas(e);var i=this.render_section(e,t,n);if(r)return this.render_tags(i,t,n,r);this.render_tags(i,t,n,r)},send:function(e){e!=""&&this.buffer.push(e)},render_pragmas:function(e){if(!this.includes("%",e))return e;var t=this,n=new RegExp(this.otag+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+this.ctag);return e.replace(n,function(e,n,r){if(!t.pragmas_implemented[n])throw{message:"This implementation of mustache doesn't understand the '"+n+"' pragma"};t.pragmas[n]={};if(r){var i=r.split("=");t.pragmas[n][i[0]]=i[1]}return""})},render_partial:function(e,t,n){e=this.trim(e);if(!n||n[e]===undefined)throw{message:"unknown_partial '"+e+"'"};return typeof t[e]!="object"?this.render(n[e],t,n,!0):this.render(n[e],t[e],n,!0)},render_section:function(e,t,n){if(!this.includes("#",e)&&!this.includes("^",e))return e;var r=this,i=new RegExp(this.otag+"(\\^|\\#)\\s*(.+)\\s*"+this.ctag+"\n*([\\s\\S]+?)"+this.otag+"\\/\\s*\\2\\s*"+this.ctag+"\\s*","mg");return e.replace(i,function(e,i,s,o){var u=r.find(s,t);if(i=="^")return!u||r.is_array(u)&&u.length===0?r.render(o,t,n,!0):"";if(i=="#")return r.is_array(u)?r.map(u,function(e){return r.render(o,r.create_context(e),n,!0)}).join(""):r.is_object(u)?r.render(o,r.create_context(u),n,!0):typeof u=="function"?u.call(t,o,function(e){return r.render(e,t,n,!0)}):u?r.render(o,t,n,!0):""})},render_tags:function(e,t,n,r){var i=this,s=function(){return new RegExp(i.otag+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+i.ctag+"+","g")},o=s(),u=function(e,r,u){switch(r){case"!":return"";case"=":return i.set_delimiters(u),o=s(),"";case">":return i.render_partial(u,t,n);case"{":return i.find(u,t);default:return i.escape(i.find(u,t))}},a=e.split("\n");for(var f=0;f<a.length;f++)a[f]=a[f].replace(o,u,this),r||this.send(a[f]);if(r)return a.join("\n")},set_delimiters:function(e){var t=e.split(" ");this.otag=this.escape_regex(t[0]),this.ctag=this.escape_regex(t[1])},escape_regex:function(e){if(!arguments.callee.sRE){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+t.join("|\\")+")","g")}return e.replace(arguments.callee.sRE,"\\$1")},find:function(e,t){function n(e){return e===!1||e===0||e}e=this.trim(e);var r;return n(t[e])?r=t[e]:n(this.context[e])&&(r=this.context[e]),typeof r=="function"?r.apply(t):r!==undefined?r:""},includes:function(e,t){return t.indexOf(this.otag+e)!=-1},escape:function(e){return e=String(e===null?"":e),e.replace(/&(?!\w+;)|["<>\\]/g,function(e){switch(e){case"&":return"&amp;";case"\\":return"\\\\";case'"':return'"';case"<":return"&lt;";case">":return"&gt;";default:return e}})},create_context:function(e){if(this.is_object(e))return e;var t=".";this.pragmas["IMPLICIT-ITERATOR"]&&(t=this.pragmas["IMPLICIT-ITERATOR"].iterator);var n={};return n[t]=e,n},is_object:function(e){return e&&typeof e=="object"},is_array:function(e){return Object.prototype.toString.call(e)==="[object Array]"},trim:function(e){return e.replace(/^\s*|\s*$/g,"")},map:function(e,t){if(typeof e.map=="function")return e.map(t);var n=[],r=e.length;for(var i=0;i<r;i++)n.push(t(e[i]));return n}},{name:"mustache.js",version:"0.3.0",to_html:function(t,n,r,i){var s=new e;i&&(s.send=i),s.render(t,n,r);if(!i)return s.buffer.join("\n")}}}();_ent.define("cc/mustache",[],function(e,t){t.name=Mustache.name,t.version=Mustache.version,t.to_html=function(){return Mustache.to_html.apply(this,arguments)}});
_ent.define("cc/dataservice",[],function(e,t){t.getData=function(t,n,r){var i="cc/datasource/"+t.datasource[n].ds_sn;e.async(i,function(e){e.getData(t,n,function(){t.emit("getData",t,n),r()})})}});
_ent.define("cc/templets/p4p/tb/990x423gf_20141124_cart_fb",["cc/dataservice","cc/mustache","cc/templets/meta","cc/util/event","cc/effect/switchable","cc/util/item_pv","cc/util/select"],function(e,t){function h(e,t,n,r){var i=e.items||e.shops,s=e.groups=[],o=0;while(o*t<i.length){var u=n?n[o]:o+1;s[o]={label:u,group:u,weight:o,time:r+"_"+o},s[o][e.items?"items":"shops"]=i.slice(o*t,(o+1)*t),s[o][e.items?"items":"shops"][2].addCss="midleft",o++}return e}function p(e,t){if(document.getElementsByClassName)return e.getElementsByClassName(t);var n=[],r=new RegExp("(^| )"+t+"( |$)"),i=e.getElementsByTagName("*");for(var s=0,o=i.length;s<o;s++)r.test(i[s].className)&&n.push(i[s]);return n}function d(e,t){var n=document.getElementById(e.uid+"-"+t.time),i;if(n){i=p(n,e.uid+"-price-wrapper");if(t.items.length==i.length)for(var s=0,o=i.length;s<o;s++)t.items[s].promoPrice&&(i[s].innerHTML=r.to_html(c.promo_price,t.items[s]))}}function v(t,n){var r=e("cc/util/select"),i=e("cc/mustache"),s="http://show.re.taobao.com/feature_v1.htm?auction_ids={{auction_ids}}&from={{from}}&feature_names={{feature_names}}&cb={{cb}}",o=t.data[n].groups,u=t.data[n].items,a=r(u,"ds_itemid"),f=["promoPrice"],l="tbcc_p4p_trident_"+(t.uid||"").replace(/[^a-z0-9]/gi,"_")+ +(new Date),c=i.to_html(s,{auction_ids:a,feature_names:f,from:"trade.taobao.com",cb:l});window[l]=function(e){if(e&&e.auction&&e.user){var n=e.auction.concat(e.user);KISSY.each(o,function(e){KISSY.each(e.items,function(e){KISSY.each(n,function(t){if(t.auction_id===e.ds_itemid)for(var n in t)n!=="user_id"&&n!=="auction_id"&&(e[n]=t[n])}),e.uid=t.uid}),d(t,e)})}},e.async(c)}var n=e("cc/dataservice"),r=e("cc/mustache"),i=e("cc/templets/meta"),s=e("cc/util/event"),o=e("cc/effect/switchable"),u=e("cc/util/item_pv"),a='.global {position: relative;width: 990px;height: 308px;background-color: #fff;text-align: left;font: 12px/1.5 tahoma,arial,"Hiragino Sans GB",\u5b8b\u4f53,sans-serif;}.global a {color: #3c3c3c;text-decoration: none;}.global a:hover {color: #f60;text-decoration: none;}.global h1, .global h2, .global h3, .global h4, .global h5, .global h6, .global p, .global ul, .global li {margin: 0;padding: 0;}.global ol, .global ul {list-style: none;}.global .display0, .global .hidden {display: none;}.global .display1 {display: block;}.prev, .next {position: absolute;top: 95px;width: 40px;height: 40px;background-color: rgba(0,0,0,0.3);background-image: url(http://a.tbcdn.cn/kissy/1.0.0/build/imglazyload/spaceball.gif);filter: progid:DXImageTransform.Microsoft.Gradient(GradientType=0,StartColorStr="#4C000000",EndColorStr="#4C000000");z-index: 20;}.prev:hover, .next:hover {background-color: rgba(0,0,0,0.6);filter: progid:DXImageTransform.Microsoft.Gradient(GradientType=0,StartColorStr="#99000000",EndColorStr="#99000000");}.next i, .prev i {display: block;overflow: hidden;margin: 8px 0 0 12px;width: 15px;height: 23px;background: url(http://gtms04.alicdn.com/tps/i4/T1EDnmFdpfXXc4E9bI-400-300.png) -200px 0;cursor: pointer;}.prev {left: 0;}.next {right: 0;}.next i {background-position: -200px -24px;}.items {position: relative;height: 308px;*z-index: 10;}.items-container {position: relative;overflow: hidden;margin-top: 0;width: 990px;height: 308px;}.items-group {position: relative;display: none;padding: 0 0 18px;width: 5000px;height: 308px;}.current {display: block;}.item {position: relative;float: left;margin-right: 34px;width: 220px;height: 305px;border: 1px solid #e5e5e5;}.item-hover {border-color: #F40;}.item-image {display: table-cell;width: 220px;height: 220px;background: url(http://img01.taobaocdn.com/tps/i1/T1cKm3XkRpXXXXXXXX-48-48.gif) no-repeat center center;vertical-align: middle;text-align: center;*display: block;*font: normal 12px/1 arial;*font-size: 183px;}.item-image img {border: 0;vertical-align: middle;}.item-details {padding-top: 14px;width: 100%;}.item-details li.line1 {overflow: hidden;margin: 0 8px -1px;height: 16px;line-height: 16px;}.item-details .price em, .item-details .price-old em {font: 14px Verdana,Tahoma,arial;}.item-details .price-old em {font-size: 12px;}.item-details .price-wrapper, .item-details .price {font: 16px Verdana,Tahoma,arial;line-height: 16px;}.item-details .price {color: #F40;}.item-details .price-old, .item-details .price-old:hover {margin-left: 8px;color: #AAA;text-decoration: line-through;font-size: 12px;}.item-details .postfree-wrapper {float: right;}.item-details .postfree {display: block;margin-top: 1px;width: 27px;height: 14px;background: url(http://g.tbcdn.cn/tb/bsrp/0.6.2/assets/images/normal/service.png) -5px -79px no-repeat;-background: url(http://g.tbcdn.cn/tb/bsrp/0.6.2/assets/images/png8/service.png) -5px -79px no-repeat;}.item-details li.line2 {overflow: hidden;margin: 8px 8px 0;height: 15px;color: #000;line-height: 15px;}.item-details li.line2 .item-name:hover {text-decoration: underline;}.item-details li.line3 {margin: 8px 8px 0;height: 15px;}.item-details li.line3 a {color: #9a9a9a;}.item-details li.line3 .icons {float: left;width: 80px;height: 15px;overflow: hidden;}.item-details li.line3 em {font-style: normal;font-family: Arial;}.item-details li.line3 .sell {float: right;line-height: 15px;}.item-details li.line3 .icons a.mall {display: block;width: 16px;height: 16px;background: url(http://g.tbcdn.cn/tb/bsrp/0.10.0/assets/images/normal/service.png) 0 0 no-repeat;_background-image: url(http://g.tbcdn.cn/tb/bsrp/0.10.0/assets/images/png8/service.png);background-position: -83px -129px;}.pagination {position: absolute;width: 155px;height: 18px;}.pagination ul {width: 100px;}.pagination li {float: left;}.pagination a:link, .pagination a:visited {float: left;margin-right: 6px;width: 13px;}.pagination a i {display: inline-block;*display: block;height: 12px;color: #dbdbdb;font-style: normal;font-size: 30px;line-height: 7px;*line-height: 20px;*margin-top: -7px;}.pagination a:hover i, .pagination a.current:link i, .pagination a.current:visited i {color: #F40;cursor: pointer;}.buttons {display: none;}@media only screen and (min-width: 1441px) {.global {width: 1190px;}.items-container {width: 1190px;}.item {margin-right: 20px;}}',f='<div class="{{uid}}-global" id="{{uid}}-ds1-ef1"><div class="{{uid}}-items" ><div class="{{uid}}-items-container" id="{{uid}}-ds1-ef1-frames">{{#data}}{{#ds1}}{{#groups}}<div class="{{uid}}-items-group" id="{{uid}}-{{time}}">{{#items}}<div class="{{uid}}-item {{#addCss}}{{uid}}-{{addCss}}{{/addCss}}"><div class="{{uid}}-item-image">{{>image}}</div><div class="{{uid}}-item-details">{{>details}}</div></div>{{/items}}</div>{{/groups}}{{/ds1}}{{/data}}</div></div><div class="{{uid}}-buttons"><div id="{{uid}}-ds1-ef1-triggers">{{#data}}{{#ds1}}{{#groups}}<a href="javascript:void(0)" id="p4p-page{{label}}" class="j-trigger"></a>{{/groups}}{{/ds1}}{{/data}}</div></div><a href="javascript:void(0);" class="{{uid}}-prev" id="j-{{uid}}-prev"><i></i></a><a href="javascript:void(0);" class="{{uid}}-next" id="j-{{uid}}-next"><i></i></a></div>',l={image:'<a href="{{ds_clickurl}}" title="{{ds_title}}" target="_blank">{{#ds_img}}<img data-src="{{src}}">{{/ds_img}}</a>',details:'<ul style="width: 220px;height: 43px;"><li class="{{uid}}-line1"><div class="{{uid}}-postfree-wrapper">{{#ds_free}}<a class="{{uid}}-postfree" target="_blank" href="{{ds_clickurl}}" title="\u5305\u90ae"></a>{{/ds_free}}</div><a target="_blank" href="{{ds_clickurl}}" class="{{uid}}-price-wrapper"><span class="{{uid}}-price"><em>\u00a5</em>{{ds_price}}</span></a></li><li class="{{uid}}-line2"><a class="{{uid}}-item-name" href="{{ds_clickurl}}" title="{{ds_title}}" target="_blank">{{ds_title}}</a></li><li class="{{uid}}-line3"><div class="{{uid}}-icons">{{#ds_istmall}}<a class="{{uid}}-mall" href="{{ds_clickurl}}" target="_blank" title="\u5929\u732b\u5b9d\u8d1d\u3002\u4e0a\u5929\u732b\uff0c\u5c31\u8d2d\u4e86~"></a>{{/ds_istmall}}</div><a target="_blank" href="{{ds_clickurl}}" class="{{uid}}-sell">\u9500\u91cf\uff1a<em>{{ds_sell}}</em></a></li></ul>'},c={promo_price:'<span class="{{uid}}-price"><em>\u00a5</em>{{promoPrice}}</span><span class="{{uid}}-price-old"><em>\u00a5</em>{{ds_price}}</span>'};n.getData=u.wrapIn(n.getData,"-ds1-ef1-frames"),t.render=function(e,t){var s=e.id,o=e.datasource.ds1,u;window.P4P&&P4P[s]&&(u=P4P[s],u.xtns&&(o.ds_host=o.ds_host.replace("tns","xtns")),u.name&&(o.ds_host=o.ds_host.replace(/name=\w+/,"name="+u.name)),u.pid&&(o.ds_host=o.ds_host.replace(/pid=\d{6}_\d{4}/,"pid="+u.pid).replace(/refpid=\d{6}_\d{4}/,u.name==="itemdsp"?"refpid="+u.pid:"")),e.refpid=u.pid),n.getData(e,"ds1",function(){e.data.time=+(new Date),h(e.data.ds1,5,undefined,e.data.time),e.sHTML=r.to_html(f,e,l),e.renderer.render(e),e.css=a,i.attachStyle(e),t(),v(e,"ds1")})},t.bind=function(e){e.sa11=new o(e.uid+"-ds1-ef1",{auto:!1,currentClass:e.uid+"-current",callback:function(e){u.changePointer(e)}});var t=document.getElementById("j-"+e.uid+"-next"),n=document.getElementById("j-"+e.uid+"-prev"),r=document.getElementById(e.uid+"-ds1-ef1");s.addHandler(t,"click",function(t){s.preventDefault(t),e.sa11.next()}),s.addHandler(n,"click",function(t){s.preventDefault(t),e.sa11.prev()})},t.sync=function(e){}});
_ent.define("cc/renderer/tbcc",[],function(e,t){t.render=function(e){var t=document.getElementById("tbcc-c-"+e.uid),n,r=e.info,i="";if(!t)return;r.RWD||(r.width>0&&(i+="width:"+r.width+"px;"),r.height>0&&(i+="height:"+r.height+"px;")),r.overflow||(i+="overflow:hidden;"),t.style.cssText=i+"display:block;*zoom:1;",t.setAttribute("tbcc-templet",e.info.templet),n=t.firstElementChild||t.children[0],n.innerHTML=e.sHTML,e.outerEle=t,e.innerEle=n}});
_ent.define("cc/show",[],function(e,t){function r(e){var t={};e.on=function(e,n){(t[e]=t[e]||[]).push(n)},e.off=function(e,n){var r=t[e];!e&&!n&&(t={});if(r)if(n)for(var i=r.length-1;i>=0;i--)r[i]===n&&r.splice(i,1);else delete t[e]},e.emit=function(e){var n=t[e],r;if(n){n=n.slice();while(r=n.shift())r.apply(null,[].slice.call(arguments,1))}}}function i(t,r,i){var o="cc/templets/"+i.info.templet,u="cc/renderer/"+(window.tbcc_renderer||"tbcc"),a=i.info.hook,f=[o,u];!i.sans_hook&&a&&f.push("cc/vender/"+a),i.uid=r,i.id=t,e.async(f,function(e,t,r){for(var o in r)n.iF(r[o])&&i.on(o,r[o]);s(i,e,t)})}function s(e,t,r){e.renderer=r,t.render(e,function(){n.iF(t.bind)&&t.bind(e),n.iF(t.sync)&&t.sync(e),e.emit("render",e)})}var n=e("ent");t.show=function(t,s,o){return n.iPO(o)||(o={}),r(o),window.setTimeout(function(){n.iPO(o.info)?i(t,s,o):e.async("cc/creations/"+t,function(e){i(t,s,n.mix(o,e))})},0),o}});
_ent.define('cc/creations/2014_12/127727', [], {"datasource":{"ds1":{"ds_sn":"p4p_m","ds_host":"http://tns.simba.taobao.com/?name=itemdsp&count={qp_count}&o=m&p4p={qp_callback}&pid=420870_1007&refpid=420870_1007","qp_imgsize":220,"qp_count":25}},"info":{"width":1190,"height":308,"RWD":true,"templet":"p4p/tb/990x423gf_20141124_cart_fb","kissy":true,"templet_id":3847,"xml":null}});